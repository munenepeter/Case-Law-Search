<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Alpine.js Example - Cards with Search</title>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
</head>

<body class="bg-grey-100 px-3 font-sans leading-normal tracking-normal">
    <div x-data="citySearch()" class="flex flex-col max-w-screen-md max-h-screen mx-auto p-4">
        <div class="relative">
            <input x-model="search"
                class="w-full px-2 py-1 border focus:border-blue-300 ring-blue-300 focus:ring focus:outline-none"
                type="text" placeholder="Find a city..." />

            <button x-show="search.length > 0" @click="search = ''"
                class="absolute right-0 top-0 w-6 h-full flex justify-center items-center focus:outline-none text-gray-700 focus:text-gray-900">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>
        </div>

        <ul class="mt-4 overflow-auto">
            <template x-for="city in filteredCities()" :key="city">
                <li x-html="highlightSearch(city)"></li>
            </template>
            <ul />
    </div>
    <script>
        function citySearch() {
            return {
                cities: [
                    "Alachua",
                    "Altamonte Springs",
                    "Anna Maria",
                    "On the 22nd March 2022 the European Banking Authority (EBA) issued a report detailing that This repor",
                    "Apopka",
                    "Atlantic Beach",
                    "Auburndale",
                    "Aventura",
                    "Avon Park",
                    "Bal Harbour",
                    "Bartow",
                    "Bay Harbor Islands",
                    "Boca Raton",
                    "Bonita Springs",
                    "Boynton Beach",
                    "Bradenton",
                    "Brooksville",
                    "Cape Canaveral",
                    "Cape Coral",
                    "Casselberry",
                    "Celebration",
                    "Chipley",
                    "Cinco Bayou",
                    "Clearwater",
                    "Clermont",
                    "Clewiston",
                    "Cocoa",
                    "Cocoa Beach",
                    "Coconut Creek",
                    "Coral Gables",
                    "Coral Springs",
                    "Crystal River",
                    "Dania Beach",
                    "Davie",
                    "Daytona Beach",
                    "Deerfield Beach",
                    "DeFuniak Springs",
                    "DeLand",
                    "Delray Beach",
                    "Deltona",
                    "Destin",
                    "Dunedin",
                    "Eagle Lake",
                    "Edgewater",
                    "Edgewood",
                    "Eustis",
                    "Fort Lauderdale",
                    "Fort Meade",
                    "Fort Myers",
                    "Fort Myers Beach",
                    "Fort Pierce",
                    "Fort Walton Beach",
                    "Fruitland Park",
                    "Gainesville",
                    "Greenacres",
                    "Green Cove Springs",
                    "Gulf Breeze",
                    "Gulfport",
                    "Haines City",
                    "Hallandale Beach",
                    "Hawthorne",
                    "Hialeah",
                    "Hialeah Gardens",
                    "Highland Beach",
                    "Hollywood",
                    "Holly Hill",
                    "Holmes Beach",
                    "Homestead",
                    "Hypoluxo",
                    "Indialantic",
                    "Jacksonville",
                    "Juno Beach",
                    "Jupiter",
                    "Key Biscayne",
                    "Key West",
                    "Kissimmee",
                    "LaBelle",
                    "Lady Lake",
                    "Lake Alfred",
                    "Lakeland",
                    "Lake Mary",
                    "Lake Park",
                    "Lake Wales",
                    "Lake Worth",
                    "Lantana",
                    "Largo",
                    "Lauderdale By The Sea",
                    "Lauderhill",
                    "Leesburg",
                    "Lighthouse Point",
                    "Longboat Key",
                    "Longwood",
                    "Maitland",
                    "Marco Island",
                    "Margate",
                    "Melbourne",
                    "Melbourne Beach",
                    "Miami",
                    "Miami Beach",
                    "Milton",
                    "Minneola",
                    "Miramar",
                    "Mount Dora",
                    "Naples",
                    "Neptune Beach",
                    "New Port Richey",
                    "New Smyrna Beach",
                    "Niceville",
                    "North Miami",
                    "North Miami Beach",
                    "North Port",
                    "Oakland Park",
                    "Ocala",
                    "Ocean Ridge",
                    "Ocoee",
                    "Okeechobee",
                    "Oldsmar",
                    "Orange Park",
                    "Orlando",
                    "Ormond Beach",
                    "Oviedo",
                    "Palatka",
                    "Palm Bay",
                    "Palm Beach",
                    "Palm Beach Gardens",
                    "Palm Coast",
                    "Palmetto",
                    "Panama City",
                    "Panama City Beach",
                    "Pembroke Pines",
                    "Pensacola",
                    "Pinecrest",
                    "Pinellas Park",
                    "Plant City",
                    "Plantation",
                    "Pompano Beach",
                    "Ponce Inlet",
                    "Port Orange",
                    "Port St. Lucie",
                    "Punta Gorda",
                    "Rockledge",
                    "Royal Palm Beach",
                    "St. Augustine",
                    "St. Augustine Beach",
                    "St. Cloud",
                    "St. Pete Beach",
                    "St. Petersburg",
                    "Safety Harbor",
                    "Sanford",
                    "Sanibel",
                    "Sarasota",
                    "Satellite Beach",
                    "Seaside",
                    "Sebastian",
                    "Sewall's Point",
                    "Shalimar",
                    "Stuart",
                    "Surfside",
                    "Tallahassee",
                    "Tamarac",
                    "Tampa",
                    "Tarpon Springs",
                    "Tavares",
                    "Temple Terrace",
                    "Titusville",
                    "Treasure Island",
                    "Valparaiso",
                    "Venice",
                    "Vero Beach",
                    "Wellington",
                    "West Melbourne",
                    "West Palm Beach",
                    "Weston",
                    "Wilton Manors",
                    "Winter Garden",
                    "Winter Haven",
                    "Winter Park",
                    "Winter Springs"
                ],

                search: '',
                filteredCities() {
                    return this.cities.filter(
                        city => city.toLowerCase().includes(this.search.toLowerCase())
                    );
                },
                highlightSearch(s) {
                    if (this.search === '') return s;

                    return s.replaceAll(
                        new RegExp(`(${this.search.toLowerCase()})`, 'ig'),
                        '<strong class="font-semibold bg-blue-200">$1</strong>'
                    )
                }
            }
        }
    </script>
</body>

</html>
